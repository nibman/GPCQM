<html>
<head>
<meta charset=utf-8 />
<title>Meneurs</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src="//code.jquery.com/jquery-3.1.0.min.js"></script>
<script src="//cdn.pubnub.com/pubnub.min.js"></script>
<script src="./assets/js/select2.min.js"></script>
<link type="text/css" href="./assets/css/leaders/style.css" rel="stylesheet" media="all">
<link type="text/css" href="./assets/css/leaders/select2.min.css" rel="stylesheet" media="all">
</head>
<body>
  <div>
  <form id="formData">
    <table border="1" class="gridtable">
      <tr>
        <th>Ordre</th>
        <th>Numéro dossard  - nom</th>
      </tr>
      <tr>
        <td>#1</td>
        <td>
          <select id="p1" class="selectLeader">
            <option value="">N/D</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>#2</td>
        <td>
          <select id="p2" class="selectLeader">
            <option value="">N/D</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>#3</td>
        <td>
          <select id="p3" class="selectLeader">
            <option value="">N/D</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>#4</td>
        <td>
          <select id="p4" class="selectLeader">
            <option value="">N/D</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>#5</td>
        <td>
          <select id="p5" class="selectLeader">
            <option value="">N/D</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>#6</td>
        <td>
          <select id="p6" class="selectLeader">
            <option value="">N/D</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>#7</td>
        <td>
          <select id="p7" class="selectLeader">
            <option value="">N/D</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>#8</td>
        <td>
          <select id="p8" class="selectLeader">
            <option value="">N/D</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>#9</td>
        <td>
          <select id="p9" class="selectLeader">
            <option value="">N/D</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>#10</td>
        <td>
          <select id="p10" class="selectLeader">
            <option value="">N/D</option>
          </select>
        </td>
      </tr>
      <tr>
        <td colspan="6"><input id="saveSettings" type="button" value="Send"></td>
      </tr>
    </table>
  </form>
</div>
<script>


    $(document).ready(function()
    {
      //var leaders=[{"id":"1","name":"Adam YATES","team":"ORICA-BIKE EXCHANGE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"61","isMoto":false},{"id":"2","name":"Michael ALBASINI","team":"ORICA-BIKE EXCHANGE","speedCadenceID":"3","speedID":"","hrmID":"","powermeterID":"","gps":"6","dossard":"62","isMoto":false},{"id":"4","name":"Mathew HAYMAN","team":"ORICA-BIKE EXCHANGE","speedCadenceID":"7","speedID":"","hrmID":"","powermeterID":"","gps":"51","dossard":"64","isMoto":false},{"id":"5","name":"Daryl IMPEY","team":"ORICA-BIKE EXCHANGE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"52","dossard":"65","isMoto":false},{"id":"7","name":"Michael MATTHEWS","team":"ORICA-BIKE EXCHANGE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"54","dossard":"67","isMoto":false},{"id":"8","name":"Christian MEIER","team":"ORICA-BIKE EXCHANGE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"55","dossard":"68","isMoto":false},{"id":"9","name":"Julian ALAPHILIPPE","team":"ETIX - QUICK STEP","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"41","isMoto":false},{"id":"10","name":"Tom BOONEN","team":"ETIX - QUICK STEP","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"42","isMoto":false},{"id":"11","name":"Laurens DE PLUS","team":"ETIX - QUICK STEP","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"43","isMoto":false},{"id":"12","name":"Nikolas MAES","team":"ETIX - QUICK STEP","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"44","isMoto":false},{"id":"13","name":"Matteo TRENTIN","team":"ETIX - QUICK STEP","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"45","isMoto":false},{"id":"14","name":"Petr VAKOC","team":"ETIX - QUICK STEP","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"46","isMoto":false},{"id":"15","name":"Stijn VANDENBERGH","team":"ETIX - QUICK STEP","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"47","isMoto":false},{"id":"17","name":"Ilnur ZAKARIN","team":"TEAM KATUSHA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"51","isMoto":false},{"id":"19","name":"Vladimir ISAYCHEV","team":"TEAM KATUSHA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"53","isMoto":false},{"id":"20","name":"Matvey MAMYKIN","team":"TEAM KATUSHA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"54","isMoto":false},{"id":"21","name":"Simon SPILAK","team":"TEAM KATUSHA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"55","isMoto":false},{"id":"22","name":"Aleksei TCATEVICH","team":"TEAM KATUSHA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"56","isMoto":false},{"id":"23","name":"Jurgen VAN DEN BROECK","team":"TEAM KATUSHA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"57","isMoto":false},{"id":"24","name":"Angel VICIOSO ARCOS","team":"TEAM KATUSHA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"58","isMoto":false},{"id":"25","name":"Ryder HESJEDAL","team":"TREK - SEGAFREDO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"71","isMoto":false},{"id":"26","name":"Julian ARREDONDO","team":"TREK - SEGAFREDO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"72","isMoto":false},{"id":"27","name":"Stijn DEVOLDER","team":"TREK - SEGAFREDO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"73","isMoto":false},{"id":"28","name":"Bauke MOLLEMA","team":"TREK - SEGAFREDO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"74","isMoto":false},{"id":"29","name":"Gregory RAST","team":"TREK - SEGAFREDO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"75","isMoto":false},{"id":"30","name":"Frank SCHLECK","team":"TREK - SEGAFREDO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"76","isMoto":false},{"id":"31","name":"Peter STETINA","team":"TREK - SEGAFREDO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"77","isMoto":false},{"id":"74","name":"Valerio CONTI","team":"LAMPRE - MERIDA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"133","isMoto":false},{"id":"32","name":"Jasper STUYVEN","team":"TREK - SEGAFREDO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"78","isMoto":false},{"id":"33","name":"Arthur VICHOT","team":"FDJ","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"81","isMoto":false},{"id":"34","name":"William BONNET","team":"FDJ","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"82","isMoto":false},{"id":"35","name":"Arnaud COURTEILLE","team":"FDJ","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"83","isMoto":false},{"id":"36","name":"Ignatas KONOVALOVAS","team":"FDJ","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"84","isMoto":false},{"id":"37","name":"Olivier LE GAC","team":"FDJ","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"85","isMoto":false},{"id":"38","name":"Yoann OFFREDO","team":"FDJ","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"86","isMoto":false},{"id":"39","name":"Anthony ROUX","team":"FDJ","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"87","isMoto":false},{"id":"40","name":"Jérémy ROY","team":"FDJ","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"88","isMoto":false},{"id":"41","name":"Tim WELLENS","team":"LOTTO SOUDAL","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"91","isMoto":false},{"id":"42","name":"Lars BAK","team":"LOTTO SOUDAL","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"92","isMoto":false},{"id":"43","name":"Tiesj BENOOT","team":"LOTTO SOUDAL","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"93","isMoto":false},{"id":"44","name":"Pim LIGTHART","team":"LOTTO SOUDAL","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"94","isMoto":false},{"id":"45","name":"Tomasz MARCZYNSKI","team":"LOTTO SOUDAL","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"95","isMoto":false},{"id":"46","name":"Jurgen ROELANDTS","team":"LOTTO SOUDAL","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"96","isMoto":false},{"id":"47","name":"Tony GALLOPIN","team":"LOTTO SOUDAL","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"97","isMoto":false},{"id":"48","name":"Jelle VANENDERT","team":"LOTTO SOUDAL","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"98","isMoto":false},{"id":"49","name":"Julien VERMOTE","team":"ETIX - QUICK STEP","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"48","isMoto":false},{"id":"50","name":"Valerio AGNOLI","team":"ASTANA PRO TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"102","isMoto":false},{"id":"51","name":"Jakob FUGLSANG","team":"ASTANA PRO TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"103","isMoto":false},{"id":"52","name":"Tanel KANGERT","team":"ASTANA PRO TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"104","isMoto":false},{"id":"53","name":"Bakhtiyar KOZHATAYEV","team":"ASTANA PRO TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"105","isMoto":false},{"id":"54","name":"Alexey LUTSENKO","team":"ASTANA PRO TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"106","isMoto":false},{"id":"55","name":"Diego ROSA","team":"ASTANA PRO TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"107","isMoto":false},{"id":"56","name":"Lieuwe WESTRA","team":"ASTANA PRO TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"108","isMoto":false},{"id":"57","name":"Julien BERARD","team":"AG2R LA MONDIALE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"112","isMoto":false},{"id":"63","name":"Alexis VUILLERMOZ","team":"AG2R LA MONDIALE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"118","isMoto":false},{"id":"58","name":"Mikaël CHEREL","team":"AG2R LA MONDIALE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"113","isMoto":false},{"id":"59","name":"Ben GASTAUER","team":"AG2R LA MONDIALE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"114","isMoto":false},{"id":"60","name":"Cyril GAUTIER","team":"AG2R LA MONDIALE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"115","isMoto":false},{"id":"61","name":"Alexis GOUGEARD","team":"AG2R LA MONDIALE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"116","isMoto":false},{"id":"62","name":"Hugo HOULE","team":"AG2R LA MONDIALE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"117","isMoto":false},{"id":"64","name":"Wilco KELDERMAN","team":"TEAM LOTTO NL - JUMBO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"121","isMoto":false},{"id":"65","name":"Twan CASTELIJNS","team":"TEAM LOTTO NL - JUMBO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"122","isMoto":false},{"id":"69","name":"Tom VAN ASBROECK","team":"TEAM LOTTO NL - JUMBO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"126","isMoto":false},{"id":"70","name":"Dennis VAN WINDEN","team":"TEAM LOTTO NL - JUMBO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"127","isMoto":false},{"id":"71","name":"Alexey VERMEULEN","team":"TEAM LOTTO NL - JUMBO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"128","isMoto":false},{"id":"66","name":"Moreno HOFLAND","team":"TEAM LOTTO NL - JUMBO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"123","isMoto":false},{"id":"67","name":"Paul MARTENS","team":"TEAM LOTTO NL - JUMBO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"124","isMoto":false},{"id":"68","name":"Timo ROOSEN","team":"TEAM LOTTO NL - JUMBO","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"125","isMoto":false},{"id":"72","name":" Rui COSTA","team":"LAMPRE - MERIDA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"131","isMoto":false},{"id":"73","name":"Matteo BONO","team":"LAMPRE - MERIDA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"132","isMoto":false},{"id":"75","name":"Manuele MORI","team":"LAMPRE - MERIDA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"134","isMoto":false},{"id":"76","name":"Simone PETILLI","team":"LAMPRE - MERIDA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"135","isMoto":false},{"id":"77","name":"Luka PIBERNIK","team":"LAMPRE - MERIDA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"136","isMoto":false},{"id":"78","name":"Jan POLANC","team":"LAMPRE - MERIDA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"137","isMoto":false},{"id":"79","name":"Diego ULISSI","team":"LAMPRE - MERIDA","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"138","isMoto":false},{"id":"80","name":"Rigoberto URAN","team":"CANNONDALE - DRAPAC PRO CYCLING TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"141","isMoto":false},{"id":"81","name":"Nathan BROWN","team":"CANNONDALE - DRAPAC PRO CYCLING TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"142","isMoto":false},{"id":"82","name":"Simon CLARKE","team":"CANNONDALE - DRAPAC PRO CYCLING TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"143","isMoto":false},{"id":"83","name":"Lawson CRADDOCK","team":"CANNONDALE - DRAPAC PRO CYCLING TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"144","isMoto":false},{"id":"84","name":"Kristjan KOREN","team":"CANNONDALE - DRAPAC PRO CYCLING TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"145","isMoto":false},{"id":"85","name":"Ramunas NAVARDAUSKAS","team":"CANNONDALE - DRAPAC PRO CYCLING TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"146","isMoto":false},{"id":"86","name":"Tom-Jelte SLAGTER ","team":"CANNONDALE - DRAPAC PRO CYCLING TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"147","isMoto":false},{"id":"87","name":"Mike WOODS","team":"CANNONDALE - DRAPAC PRO CYCLING TEAM","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"148","isMoto":false},{"id":"88","name":"Simon GESCHKE","team":"TEAM GIANT - ALPECIN","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"151","isMoto":false},{"id":"89","name":"Bert DE BACKER","team":"TEAM GIANT - ALPECIN","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"152","isMoto":false},{"id":"90","name":"Frederik LUDVIGSSON","team":"TEAM GIANT - ALPECIN","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"153","isMoto":false},{"id":"91","name":"Sam OOMEN","team":"TEAM GIANT - ALPECIN","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"154","isMoto":false},{"id":"92","name":"Georg PREIDLER","team":"TEAM GIANT - ALPECIN","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"155","isMoto":false},{"id":"93","name":"Laurens TEN DAM","team":"TEAM GIANT - ALPECIN","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"156","isMoto":false},{"id":"94","name":"Albert TIMMER","team":"TEAM GIANT - ALPECIN","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"157","isMoto":false},{"id":"95","name":"Lars VAN DER HAAR","team":"TEAM GIANT - ALPECIN","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"158","isMoto":false},{"id":"96","name":"Antoine DUCHESNE","team":"TEAM DIRECT ENERGIE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"181","isMoto":false},{"id":"97","name":"Bryan COQUARD","team":"TEAM DIRECT ENERGIE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"182","isMoto":false},{"id":"98","name":"Jeremy CORNU","team":"TEAM DIRECT ENERGIE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"183","isMoto":false},{"id":"99","name":"Fabien GRELLIER","team":"TEAM DIRECT ENERGIE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"184","isMoto":false},{"id":"100","name":"Romain GUILLEMOIS","team":"TEAM DIRECT ENERGIE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"185","isMoto":false},{"id":"101","name":"Adrien PETIT","team":"TEAM DIRECT ENERGIE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"186","isMoto":false},{"id":"102","name":"Guillaume THEVENOT","team":"TEAM DIRECT ENERGIE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"187","isMoto":false},{"id":"103","name":"Thomas VOECKLER","team":"TEAM DIRECT ENERGIE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"188","isMoto":false},{"id":"104","name":"Sam BENNETT","team":"BORA - ARGON 18","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"191","isMoto":false},{"id":"105","name":"Dominik NERZ","team":"BORA - ARGON 18","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"192","isMoto":false},{"id":"106","name":"Jan BÀRTA","team":"BORA - ARGON 18","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"193","isMoto":false},{"id":"107","name":"Emanuel BUCHMANN","team":"BORA - ARGON 18","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"194","isMoto":false},{"id":"108","name":"Patrick KONRAD","team":"BORA - ARGON 18","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"195","isMoto":false},{"id":"109","name":"Lukas PÖSTLBERGER","team":"BORA - ARGON 18","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"196","isMoto":false},{"id":"110","name":"Andreas SCHILLINGER","team":"BORA - ARGON 18","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"197","isMoto":false},{"id":"111","name":"Paul Voβ","team":"BORA - ARGON 18","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"","dossard":"198","isMoto":false},{"id":"6","name":"Christopher JUUL-JENSEN","team":"ORICA-BIKE EXCHANGE","speedCadenceID":"","speedID":"","hrmID":"","powermeterID":"","gps":"53","dossard":"66","isMoto":false},{"id":"3","name":"Luke DURBRIDGE","team":"ORICA-BIKE EXCHANGE","speedCadenceID":"","speedID":"5","hrmID":"4","powermeterID":"","gps":"50","dossard":"63","isMoto":false}];
      $.ajax({
          url: 'list-Riders',
          type: 'GET',
          dataType: 'json',
          beforeSend: function() {
              console.log("sending signal");
          },
          success: function(data) {
            var leaders = data;
            leaders.forEach(function(el, index, array){
              //console.log(el, index);
              $('.selectLeader').append($("<option />").val(el.id).text(el.dossard+' : '+el.name));
              $(".selectLeader").select2({ width: '100%' });
            });

          }
        });


      var dataStream = PUBNUB.init({
    			publish_key   : "pub-c-4544115d-3162-4c1d-a99b-0571a9f8ac35",
    			subscribe_key : "sub-c-3d2c974c-696b-11e6-a723-0619f8945a4f"
			});
      function messageReceived(e)
  		{
  			console.log("messageReceived");
  			if (e.mapControls)
  			{

  			}
  			console.log(e);
  		}
  		dataStream.subscribe({
  			channel: "race-leaders",

  			message: function(e) { messageReceived(e); }
  		});
      $('#saveSettings').click(function()
          {
              console.log("Save Setting");
              var data =
                  {
                      p1:$('#p1').val(),
                      p2:$('#p2').val(),
                      p3:$('#p3').val(),
                      p4:$('#p4').val(),
                      p5:$('#p5').val(),
                      p6:$('#p6').val(),
                      p7:$('#p7').val(),
                      p8:$('#p8').val(),
                      p9:$('#p9').val(),
                      p10:$('#p10').val()
                  };
                  var msg = {'mapcontrols':data, 'time':new Date().toString()};
                  dataStream.publish({
      	            channel   : 'race-leaders',
      	            message   : msg,
      	            callback  : function(e) { },
      	                error : function(e) { console.log( "Data transimisson on cmds failed", e ); }
      	            }
                  );
          });
    });
</script>
</body>
</html>

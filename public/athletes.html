<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Serdy GPCQM</title>
    <link href="/public/assets/css/style.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:700,600' rel='stylesheet' type='text/css'>

  </head>

  <body>
    <div class="container">
      <div class="align-center">
        <img id="parse-logo" src="/public/assets/images/gpcqmLogo.png">
      </div>
    </div>  
    <p>
      
    
  
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
  <script src="/public/assets/js/parse-1.6.14.min.js"></script>
  <script src="/public/assets/js/AthletesClient.js"></script>
    
  <script>
      function error(e)
      {
          console.log("errror "+e);
      }
      function athletesReceived(a)
      {
         var k = Athletes.keys;
         var myOrder = ["firstName", "lastName", "athleteID", "dossard", "hrm", "team"];
         var rows = [];
         for (var i=0; i<a.length; ++i)
         {
           var myAthlete = a[i];
           var myRow = [];
           for (var j=0; j<myOrder.length; ++j)
           {
             if(k[myOrder[j]] != null)
             {
                myRow.push(k[myOrder[j]]); 
             }
             else
             {
               myRow.push("");
             }
             
           }
           rows.push(myRow);
           // console.log(a[i]);
         }  
      }
      
      function athleteSaved(a)
      {
        console.log("athleteSaved "+a.toString());
      }
      
      function athleteDeleted(a)
      {
        console.log("athleteDeleted");
      }
      
      function keyNamesReceived(keyNames)
      {
        console.log("keyNames keyNamesReceived" + keyNames.toString());
      }
      
      // Athletes.getKeyNames("gpcqm1", keyNamesReceived);
      
      Athletes.setKeyNames("gpcqm1", ["firstName", "lastName", "athleteID", "dossard", "hrm", "srmPowerMeter",
            "powerMeter", "vectorPowerMeter", "quarqPowerMeter", "speedCadence",  
            "garminSpeedCadence", "team", "gps"], keyNamesReceived);
      
      // Athletes.deleteAthlete("R3nQqgE4Lq", athleteDeleted);
      // Athletes.saveAthlete("R3nQqgE4Lq", {lastName:"pouiuiu", team:"Oui"}, athleteSaved);
      // Athletes.getAllAthletes(athletesReceived);
      // Athletes.createAthlete({firstName:"Allo", lastName:"Yooii"}, athleteSaved);
      
  </script>  
</body>
</html>
